.include "m8535def.inc"

.DEF TEMP 		= R17
.DEF REG1		= R18
.DEF REG2		= R19

.org $00
RJMP init

main:
	LDI REG1, 15 		//0b00001111
	LDI REG2, 17  		//0b00010001
	
	MOV TEMP, REG2
	ADD TEMP, REG1
	OUT PORTA, TEMP

	MOV TEMP, REG2
	AND TEMP, REG1
	OUT PORTB, TEMP

	MOV TEMP, REG2
	OR TEMP, REG1
	OUT PORTC, TEMP

	MOV TEMP, REG2
	SUB TEMP, REG1
	OUT PORTD, TEMP


	MOV TEMP, REG2
	SUBI TEMP, 31
	OUT PORTA, TEMP

	MOV TEMP, REG1
	ANDI TEMP, 0b01010101
	OUT PORTB, TEMP

	MOV TEMP, REG2
	ORI TEMP, 0xf //0b00001111
	OUT PORTC, TEMP

	LDI TEMP, 0b01010101
	EOR TEMP, REG1
	OUT PORTD, TEMP



	LDI TEMP, 0
	OUT DDRD, TEMP

	LDI TEMP,3
	OUT PORTA, TEMP	


	skok:
		
		
		SUBI TEMP, 1
		OUT PORTA, TEMP
		BRNE skok
		BREQ juz_koniec

	LDI TEMP, 0b00001111
	OUT PORTA, TEMP

	juz_koniec:
		LDI TEMP, 0xf0
		OUT PORTA, TEMP	

	
	IN TEMP, PIND
	OUT PORTC, TEMP

	petla:
	RJMP petla

	NOP
	NOP
	NOP
	NOP
	NOP


init:
	LDI TEMP, 0xff
	OUT DDRA, TEMP
	OUT DDRB, TEMP
	OUT DDRC, TEMP
	OUT DDRD, TEMP 
RJMP main
	
